---
/**
 * Flash Progress Component
 * Shows download and flash progress with percentage
 */
---

<article class="card">
  <h2 class="card-title">Progress</h2>
  <div class="space-y-4">
    <div>
      <div class="flex items-center justify-between text-xs text-gray-400 mb-2">
        <span>Download</span>
        <span id="downloadPct">0%</span>
      </div>
      <div class="progress-track">
        <div id="downloadBar" class="progress-bar"></div>
      </div>
    </div>
    <div>
      <div class="flex items-center justify-between text-xs text-muted-foreground mb-2">
        <span id="flashAction">Waiting</span>
        <span id="flashPct">0%</span>
      </div>
      <div class="progress-track">
        <div id="flashBar" class="progress-bar"></div>
      </div>
      <p id="flashItem" class="text-xs text-muted-foreground/80 mt-2">No active flash</p>
    </div>
  </div>
</article>

<style>
  .card {
    position: relative;
    background: rgba(31, 41, 55, 0.6);
    backdrop-filter: blur(8px);
    border-radius: 1rem;
    padding: 2rem;
    border: 1px solid rgba(75, 85, 99, 0.5);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  .card::before,
  .card::after {
    content: '';
    position: absolute;
    width: 2rem;
    height: 2rem;
    pointer-events: none;
  }
  .card::before {
    top: 0;
    left: 0;
    border-top: 2px solid hsl(var(--color-pink) / 0.5);
    border-left: 2px solid hsl(var(--color-pink) / 0.5);
    border-top-left-radius: 0.75rem;
  }
  .card::after {
    bottom: 0;
    right: 0;
    border-bottom: 2px solid hsl(var(--color-purple) / 0.5);
    border-right: 2px solid hsl(var(--color-purple) / 0.5);
    border-bottom-right-radius: 0.75rem;
  }

  .card-title {
    font-size: 1.375rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid rgba(168, 85, 247, 0.3);
  }

  .progress-track {
    width: 100%;
    height: 0.5rem;
    background: rgba(148, 163, 184, 0.2);
    border-radius: 999px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(90deg, #a855f7 0%, #3b82f6 100%);
    transition: width 0.2s ease;
  }
</style>
