---
import { getCollection } from "astro:content";
import ProjectCard from "@/components/ProjectCard";
import Section from "@/components/Section.astro";
import Layout from "@/layouts/Layout.astro";

const projects = (await getCollection("projects")).sort(
  (a, b) => (a.data.sortOrder || 0) - (b.data.sortOrder || 0),
);
---

<Layout title="PROJECT_DIR">
  <div class="mt-24 md:mt-32">
    <Section title="ACTIVE_PROJECTS">
      <div class="w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 md:gap-12">
        {
          projects.map((project, index) => (
            <div class={`h-full transform hover:-translate-y-2 transition-transform duration-500 delay-${(index % 4) * 100}`}>
              <ProjectCard
                title={project.data.title}
                link={project.data.link}
                period={project.data.period}
                description={project.data.description}
              />
            </div>
          ))
        }
      </div>
    </Section>
  </div>
</Layout>
